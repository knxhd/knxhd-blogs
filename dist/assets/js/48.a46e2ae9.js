(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{464:function(a,s,t){"use strict";t.r(s);var e=t(2),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"linux配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux配置"}},[a._v("#")]),a._v(" LInux配置")]),a._v(" "),s("h3",{attrs:{id:"配置文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置文件"}},[a._v("#")]),a._v(" 配置文件")]),a._v(" "),s("ol",[s("li",[a._v("/etc/profile")])]),a._v(" "),s("blockquote",[s("ul",[s("li",[a._v("存储系统的系统变量，针对所有的用户生效。每次系统启动后，都会加载此文件，永久性添加")]),a._v(" "),s("li",[a._v("修改后，需要通过命令"),s("code",[a._v("source /etc/profile")]),a._v("来生效")]),a._v(" "),s("li",[a._v("如果仅仅想本次登录生效，则可以通过"),s("code",[a._v("PATH=$PATH:/root/shells")]),a._v("来设置")])])]),a._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[a._v("HOME/.bash_profile")])]),a._v(" "),s("blockquote",[s("ul",[s("li",[a._v("仅仅针对特定用户生效，先加载/etc/profile再加载HOME/.bash_profile")])])]),a._v(" "),s("h3",{attrs:{id:"防火墙"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#防火墙"}},[a._v("#")]),a._v(" 防火墙")]),a._v(" "),s("ol",[s("li",[a._v("查看防火墙命令")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("systemctl status firewalld.service\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("启动防火墙")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("systemctl start firewalld.service\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("关闭防火墙")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("systemctl stop firewalld.service\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("防火墙禁用")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("systemctl disable firewalld.service\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("防火墙规则")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("firewall-cmd –list-all\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("查询开发的端口")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("firewall-cmd –query-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v("/tcp\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[a._v("重启防火墙")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--reload")]),a._v("\n")])])]),s("ol",{attrs:{start:"8"}},[s("li",[a._v("开放指定端口")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v(" --add-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v("/tcp\n")])])]),s("ol",{attrs:{start:"9"}},[s("li",[a._v("禁用指定端口")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[a._v("firewall-cmd "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--permanent")]),a._v(" --remove-port"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8080")]),a._v("/tcp\n")])])]),s("h3",{attrs:{id:"ssh免密登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ssh免密登录"}},[a._v("#")]),a._v(" SSH免密登录")]),a._v(" "),s("blockquote",[s("ol",[s("li",[s("code",[a._v("cd ~/.ssh")]),a._v("进入.ssh目录下")]),a._v(" "),s("li",[s("code",[a._v("ssh-keygen -t rsa")]),a._v("生成ssh免登录密钥。（连续四个回车），执行完上面命令后，会生成两个文件id_rsa（私钥）、id_rsa.pub（公钥）")]),a._v(" "),s("li",[s("code",[a._v("ssh-copy-id node01")]),a._v("相当于该主机给自身设置免密码登录，主机名视虚拟机实际主机名而定")]),a._v(" "),s("li",[a._v("此时，"),s("code",[a._v("ssh node01")]),a._v("，则不再需要使用密码即可登录")])])]),a._v(" "),s("h2",{attrs:{id:"shell命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shell命令"}},[a._v("#")]),a._v(" shell命令")]),a._v(" "),s("h3",{attrs:{id:"tgz解压缩"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tgz解压缩"}},[a._v("#")]),a._v(" tgz解压缩")]),a._v(" "),s("ol",[s("li",[a._v("解压，如果后缀名称为 tar.gz则，解压命令为-xzvf；如果后缀名为 tar，则解压命令为：-xvf")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-zxvf")]),a._v(" xxx.tgz\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("压缩,，如果压缩后，后缀名为tar.gz，则压缩命令为zxvf，否则为 cvf")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tar")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-zcvf")]),a._v(" xxx.tar.gz\n")])])]),s("h3",{attrs:{id:"scp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scp"}},[a._v("#")]),a._v(" scp")]),a._v(" "),s("ol",[s("li",[a._v("基本格式：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("scp")]),a._v(" localfile remote_username@remote_ip:remote_file\n")])])]),s("blockquote",[s("ol",[s("li",[a._v("其中，用户名可省略，省略后为，在命令行中可输入用户名和密码")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("scp localfile remote_ip:remote_file\n")])])])]),a._v(" "),s("h3",{attrs:{id:"更改主机名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#更改主机名"}},[a._v("#")]),a._v(" 更改主机名")]),a._v(" "),s("blockquote",[s("ol",[s("li",[s("p",[a._v("主机名即域名，可通过域名解析出ip")])]),a._v(" "),s("li",[s("p",[a._v("查看主机名命令："),s("code",[a._v("hostname")])])]),a._v(" "),s("li",[s("p",[a._v("永久更改命令：")])])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" hostnamectl set-hostname newhostname\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("临时更改命令：")])]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("hostname")]),a._v(" newhostname\n")])])])]),a._v(" "),s("h2",{attrs:{id:"shell指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shell指令"}},[a._v("#")]),a._v(" Shell指令")]),a._v(" "),s("table",[s("thead",[s("tr",[s("th",[a._v("指令")]),a._v(" "),s("th",[a._v("说明")])])]),a._v(" "),s("tbody",[s("tr",[s("td",[a._v("Ctrl+a")]),a._v(" "),s("td",[a._v("回到光标行首")])]),a._v(" "),s("tr",[s("td",[a._v("Ctrl+e")]),a._v(" "),s("td",[a._v("回到光标末尾")])]),a._v(" "),s("tr",[s("td",[a._v("G/Shift+g")]),a._v(" "),s("td",[a._v("跳到最后一行")])]),a._v(" "),s("tr",[s("td",[a._v("gg")]),a._v(" "),s("td",[a._v("跳到第一行")])])])]),a._v(" "),s("h2",{attrs:{id:"shell脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shell脚本"}},[a._v("#")]),a._v(" shell脚本")]),a._v(" "),s("h3",{attrs:{id:"变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变量"}},[a._v("#")]),a._v(" 变量")]),a._v(" "),s("h4",{attrs:{id:"sh命令结果赋值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#sh命令结果赋值"}},[a._v("#")]),a._v(" sh命令结果赋值")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("command")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 例如：")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("container_id")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-qf")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("mysql"),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),s("h4",{attrs:{id:"引用变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引用变量"}},[a._v("#")]),a._v(" 引用变量")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("${name}")]),a._v("\n")])])]),s("h3",{attrs:{id:"日期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日期"}},[a._v("#")]),a._v(" 日期")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("timeInfo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("date")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"+%Y%m%d%H%M%S"')]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),s("h2",{attrs:{id:"删除文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除文件"}},[a._v("#")]),a._v(" 删除文件")]),a._v(" "),s("h3",{attrs:{id:"排除某些文件不删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#排除某些文件不删除"}},[a._v("#")]),a._v(" 排除某些文件不删除")]),a._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("find")]),a._v(" * "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'\\(index.html\\|static\\)'")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("xargs")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-rf")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);