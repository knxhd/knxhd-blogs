---
title: 文件和异常
date: '2024-03-28 08:00:00'
sidebar: 'auto'
categories:
 - Python
tags:
 - pip
---

## 文件

>- 基本方式 open('filePath', 'mode', 'encoding')
>- filePath: 文件路径，mode:操作模式，encoding:编码，默认采用和操作系统相同的编码

## 文件操作模式

### 基本模式

| 操作模式 | 具体含义                         |
| -------- | -------------------------------- |
| `'r'`    | 读取 （默认）                    |
| `'w'`    | 写入（会先截断之前的内容）       |
| `'x'`    | 写入，如果文件已经存在会产生异常 |
| `'a'`    | 追加，将内容写入到已有文件的末尾 |
| `'b'`    | 二进制模式                       |
| `'t'`    | 文本模式（默认）                 |
| `'+'`    | 更新（既可以读又可以写）         |

### 组合使用

| 操作模式 | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| r+/r+b   | 可读可写，且不会删除原内容,前者返回文本；后者返回字节，多用于非文本操作 |
| w+/w+b   | 可读可写，删除原来的内容，位置在文件的开始                   |
| a+       | 可读可写，且不会删除原内容，但是由于位置在文件尾部，输出的结果为空 |

>- 注意：`open`操作文本，可能会删除原来的内容，具体用法如下

## 异常

>- 父类：`OSError`

### 基本格式

```python
import traceback

try:
   # 业务逻辑
except OSError as e:
    traceback.format_exception(e)
```

>- 可不通过`traceback`打印堆栈信息，可直接通过print进行输出信息
>- 如果except后的异常类型不正确，则不会拦截，可通过`OSError`来拦截异常